<app-header></app-header>
<section class="w-full mx-auto max-w-7xl min-h-[70vh] flex items-center" *ngIf="status !== StoryGenerationStatus.Ready">
    <div class="w-full text-center flex flex-col items-center">
        <svg id="animated-pencil" class="animate-pulse object-cover object-center max-h-[256px] mb-4" viewBox="0 0 818 1022" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M812 540C812 762.571 631.571 943 409 943C186.429 943 6 762.571 6 540C6 317.429 186.429 137 409 137C631.571 137 812 317.429 812 540Z" fill="#FFE1C6" stroke="#494949" stroke-width="12"/>
            <path d="M453.491 309.158L453.405 309.185L453.319 309.215C444.258 312.379 437.214 318.329 432.324 326.799L91.8648 916.492C86.9744 924.962 85.3433 934.036 87.1343 943.466C87.9926 947.985 92.9502 963.974 98.3553 978.958C101.09 986.539 104.022 994.097 106.721 1000.05C108.065 1003.02 109.408 1005.72 110.692 1007.86C111.333 1008.93 112.021 1009.97 112.75 1010.87C113.412 1011.69 114.418 1012.79 115.775 1013.58C117.145 1014.37 118.607 1014.68 119.658 1014.84C120.806 1015.01 122.041 1015.07 123.268 1015.07C125.727 1015.07 128.662 1014.83 131.806 1014.45C138.123 1013.68 145.872 1012.28 153.533 1010.7C168.639 1007.58 184.196 1003.6 188.555 1002.1C197.897 999.132 205.14 993.272 210.068 984.736L550.527 395.044C555.417 386.573 557.049 377.499 555.258 368.069C553.444 358.52 548.423 351.085 540.215 346.347L480.082 311.629C471.892 306.9 462.864 306.199 453.491 309.158Z" fill="#D0D8FC" stroke="#494949" stroke-width="12"/>
            <path data-ignore="true" d="M223.691 961.141L226.691 955.945L221.495 952.945L113.684 890.701L108.488 887.701L105.488 892.897L91.8655 916.492C86.9751 924.962 85.344 934.037 87.1351 943.466C87.9933 947.985 92.9509 963.974 98.356 978.959C101.091 986.54 104.023 994.098 106.722 1000.05C108.066 1003.02 109.409 1005.72 110.693 1007.86C111.334 1008.93 112.022 1009.97 112.751 1010.87C113.413 1011.69 114.419 1012.79 115.776 1013.58C117.146 1014.37 118.608 1014.68 119.659 1014.84C120.807 1015.01 122.041 1015.07 123.269 1015.07C125.727 1015.07 128.663 1014.83 131.807 1014.45C138.124 1013.68 145.873 1012.28 153.534 1010.7C168.64 1007.58 184.196 1003.61 188.555 1002.1C197.898 999.133 205.141 993.272 210.069 984.737L223.691 961.141Z" fill="#F0BE8F" stroke="#494949" stroke-width="12"/>
            <path d="M609.447 39.0345L622.888 58.9687C625.273 62.5063 629.163 64.7394 633.42 65.0161L657.412 66.5751C659.107 66.6852 659.7 68.8789 658.292 69.8282L638.358 83.2694C634.82 85.6547 632.587 89.5441 632.311 93.8017L630.752 117.794C630.642 119.488 628.448 120.081 627.498 118.674L614.057 98.7393C611.672 95.2018 607.783 92.9686 603.525 92.6919L579.533 91.133C577.839 91.0229 577.245 88.8291 578.653 87.8798L598.587 74.4386C602.125 72.0533 604.358 68.1639 604.635 63.9063L606.194 39.9145C606.304 38.22 608.498 37.6266 609.447 39.0345Z" fill="#D0D8FC" stroke="#494949" stroke-width="12"/>
            <path d="M504.461 238.54L462.608 223.038C456.348 220.719 449.367 221.431 443.704 224.965L405.841 248.595C398.106 253.422 388.646 245.713 391.813 237.163L407.315 195.31C409.633 189.05 408.921 182.069 405.387 176.406L381.757 138.542C376.93 130.808 384.639 121.348 393.189 124.515L435.043 140.016C441.303 142.335 448.283 141.623 453.947 138.089L491.81 114.459C499.545 109.632 509.005 117.341 505.838 125.891L490.336 167.744C488.018 174.004 488.729 180.985 492.264 186.648L515.893 224.512C520.721 232.247 513.011 241.706 504.461 238.54Z" fill="#D0D8FC" stroke="#494949" stroke-width="12"/>
            <path d="M700.169 347.18L673.371 311.489C669.363 306.15 663.108 302.969 656.433 302.875L611.806 302.245C602.689 302.116 598.909 290.513 606.2 285.039L641.892 258.241C647.23 254.233 650.411 247.978 650.505 241.304L651.135 196.676C651.264 187.559 662.867 183.779 668.341 191.07L695.139 226.762C699.147 232.1 705.402 235.281 712.077 235.375L756.704 236.005C765.821 236.134 769.601 247.737 762.31 253.211L726.618 280.009C721.28 284.017 718.099 290.272 718.005 296.947L717.375 341.574C717.246 350.691 705.643 354.471 700.169 347.18Z" fill="#D0D8FC" stroke="#494949" stroke-width="12"/>
            <path data-ignore="true" d="M429.46 592.738L434.656 595.738L437.656 590.542L550.527 395.044C555.417 386.574 557.049 377.499 555.257 368.07C553.444 358.521 548.423 351.086 540.215 346.347L480.082 311.629C471.892 306.9 462.864 306.2 453.491 309.159L453.404 309.186L453.319 309.216C444.257 312.379 437.214 318.329 432.324 326.799L319.453 522.297L316.453 527.493L321.649 530.493L429.46 592.738Z" fill="#D4EACA" stroke="#494949" stroke-width="12"/>
            <path d="M156.441 1010.09L163.945 1008.49L160.589 1001.59C155.491 991.114 147.309 981.989 136.466 975.728C125.772 969.554 113.958 967.015 102.481 967.738L94.5558 968.238L97.2011 975.725C100.07 983.845 103.226 992.163 106.142 998.759C107.594 1002.04 109.042 1005.03 110.415 1007.39C111.099 1008.57 111.828 1009.7 112.592 1010.67C113.279 1011.55 114.337 1012.75 115.775 1013.58C117.219 1014.41 118.778 1014.72 119.882 1014.87C121.1 1015.03 122.421 1015.08 123.747 1015.06C126.404 1015.03 129.598 1014.74 133.026 1014.29C139.91 1013.4 148.318 1011.82 156.441 1010.09Z" fill="#5B5B5B" stroke="#494949" stroke-width="12"/>        
        </svg> 
        <h2 class="mt-8 mx-8 mb-4 font-thin text-2xl md:text-4xl">Um instante...</h2>
        <p *ngIf="status === StoryGenerationStatus.GeneratingStory">Escrevendo uma história</p>
        <p *ngIf="status === StoryGenerationStatus.GeneratingStoryImagePrompts">Pensando em ilustrações</p>
        <p *ngIf="status === StoryGenerationStatus.GeneratingStoryImages">Desenhando imagens ({{ this.storyImageUrls.length }} de {{ this.story.length }})</p>
    </div>
</section>
<section class="w-full mx-auto max-w-7xl" *ngIf="status === StoryGenerationStatus.Ready">
    <h2 class="m-8 font-thin text-2xl md:text-4xl">{{ title }}</h2>

    <ng-container *ngFor="let paragraph of story; index as i;">
        <div class="m-8 flex flex-col md:flex-row gap-6" [ngClass]="{'md:flex-row-reverse': i % 2 === 0, 'md:flex-row': i % 2 === 1}">
            <img class="rounded-2xl border-pistacchio border-4 w-72" [src]="storyImageUrls[i]">
            <p class="text-sm md:text-lg">{{ paragraph }}</p>        
        </div>
    </ng-container>

</section>
